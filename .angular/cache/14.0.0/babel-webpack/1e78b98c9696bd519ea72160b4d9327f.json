{"ast":null,"code":"import { GlobalConstants } from 'src/app/common/global-constants';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../../../../modules/auth\";\nimport * as i2 from \"../../../../../../modules/i18n\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\n\nfunction UserInnerComponent_ng_container_0_span_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 14);\n    i0.ɵɵtext(1, \"Admin\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction UserInnerComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3);\n    i0.ɵɵelement(4, \"img\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 5)(6, \"div\", 6);\n    i0.ɵɵtext(7);\n    i0.ɵɵtemplate(8, UserInnerComponent_ng_container_0_span_8_Template, 2, 0, \"span\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"a\", 8);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelement(11, \"div\", 9);\n    i0.ɵɵelementStart(12, \"div\", 10)(13, \"a\", 11)(14, \"span\", 12);\n    i0.ɵɵtext(15, \"Mon Profil\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(16, \"div\", 10)(17, \"a\", 13);\n    i0.ɵɵlistener(\"click\", function UserInnerComponent_ng_container_0_Template_a_click_17_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.logout());\n    });\n    i0.ɵɵtext(18, \" Deconnexion \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const _user_r1 = ctx.ngIf;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate2(\"src\", \"\", ctx_r0.profilurl, \"/\", _user_r1.urlprofile, \"\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\" \", _user_r1.name, \" (\", _user_r1.role, \") \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _user_r1.role === \"admin\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", _user_r1.email, \" \");\n  }\n}\n\nexport class UserInnerComponent {\n  constructor(auth, translationService) {\n    this.auth = auth;\n    this.translationService = translationService;\n    this.class = `menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-600 menu-state-bg menu-state-primary fw-bold py-4 fs-6 w-275px`;\n    this.dataKtMenu = 'true';\n    this.langs = languages;\n    this.unsubscribe = [];\n    this.profilurl = GlobalConstants.imagurl;\n  }\n\n  ngOnInit() {\n    this.user$ = this.auth.currentUserSubject.asObservable();\n    this.setLanguage(this.translationService.getSelectedLanguage());\n  }\n\n  logout() {\n    this.auth.logout();\n    document.location.reload();\n  }\n\n  selectLanguage(lang) {\n    this.translationService.setLanguage(lang);\n    this.setLanguage(lang); // document.location.reload();\n  }\n\n  setLanguage(lang) {\n    this.langs.forEach(language => {\n      if (language.lang === lang) {\n        language.active = true;\n        this.language = language;\n      } else {\n        language.active = false;\n      }\n    });\n  }\n\n  ngOnDestroy() {\n    this.unsubscribe.forEach(sb => sb.unsubscribe());\n  }\n\n}\n\nUserInnerComponent.ɵfac = function UserInnerComponent_Factory(t) {\n  return new (t || UserInnerComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.TranslationService));\n};\n\nUserInnerComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: UserInnerComponent,\n  selectors: [[\"app-user-inner\"]],\n  hostVars: 3,\n  hostBindings: function UserInnerComponent_HostBindings(rf, ctx) {\n    if (rf & 2) {\n      i0.ɵɵattribute(\"data-kt-menu\", ctx.dataKtMenu);\n      i0.ɵɵclassMap(ctx.class);\n    }\n  },\n  decls: 2,\n  vars: 3,\n  consts: [[4, \"ngIf\"], [1, \"menu-item\", \"px-3\"], [1, \"menu-content\", \"d-flex\", \"align-items-center\", \"px-3\"], [1, \"symbol\", \"symbol-50px\", \"me-5\"], [\"alt\", \"Logo\", 3, \"src\"], [1, \"d-flex\", \"flex-column\"], [1, \"fw-bolder\", \"d-flex\", \"align-items-center\", \"fs-5\"], [\"class\", \"badge badge-light-success fw-bolder fs-8 px-2 py-1 ms-2\", 4, \"ngIf\"], [1, \"fw-bold\", \"text-muted\", \"text-hover-primary\", \"fs-7\", \"cursor-pointer\"], [1, \"separator\", \"my-2\"], [1, \"menu-item\", \"px-5\"], [\"routerLinkActive\", \"active\", 1, \"menu-link\", \"px-5\", \"cursor-pointer\"], [1, \"menu-title\"], [1, \"menu-link\", \"px-5\", \"cursor-pointer\", 3, \"click\"], [1, \"badge\", \"badge-light-success\", \"fw-bolder\", \"fs-8\", \"px-2\", \"py-1\", \"ms-2\"]],\n  template: function UserInnerComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, UserInnerComponent_ng_container_0_Template, 19, 6, \"ng-container\", 0);\n      i0.ɵɵpipe(1, \"async\");\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.user$));\n    }\n  },\n  dependencies: [i3.NgIf, i4.RouterLinkActive, i3.AsyncPipe],\n  encapsulation: 2\n});\nconst languages = [{\n  lang: 'en',\n  name: 'English',\n  flag: './assets/media/flags/united-states.svg'\n}, {\n  lang: 'zh',\n  name: 'Mandarin',\n  flag: './assets/media/flags/china.svg'\n}, {\n  lang: 'es',\n  name: 'Spanish',\n  flag: './assets/media/flags/spain.svg'\n}, {\n  lang: 'ja',\n  name: 'Japanese',\n  flag: './assets/media/flags/japan.svg'\n}, {\n  lang: 'de',\n  name: 'German',\n  flag: './assets/media/flags/germany.svg'\n}, {\n  lang: 'fr',\n  name: 'French',\n  flag: './assets/media/flags/france.svg'\n}];","map":{"version":3,"mappings":"AAIA,SAASA,eAAT,QAAgC,iCAAhC;;;;;;;;;ICMUC;IACGA;IAAKA;;;;;;;;IAXlBA;IACEA,+BAA4B,CAA5B,EAA4B,KAA5B,EAA4B,CAA5B,EAA4B,CAA5B,EAA4B,KAA5B,EAA4B,CAA5B;IAGMA;IACFA;IAEAA,+BAAgC,CAAhC,EAAgC,KAAhC,EAAgC,CAAhC;IAEIA;IACAA;IAEFA;IACAA;IACEA;IACFA;IAKNA;IAGAA,iCAA4B,EAA5B,EAA4B,GAA5B,EAA4B,EAA5B,EAA4B,EAA5B,EAA4B,MAA5B,EAA4B,EAA5B;IAC8FA;IAAUA;IAExGA,iCAA4B,EAA5B,EAA4B,GAA5B,EAA4B,EAA5B;IACKA;MAAAA;MAAA;MAAA,OAASA,+BAAT;IAAiB,CAAjB;IAA0DA;IAAYA;IA0I7EA;;;;;;IAjKwBA;IAAAA;IAKdA;IAAAA;IACOA;IAAAA;IAIPA;IAAAA;;;;ADJV,OAAM,MAAOC,kBAAP,CAAyB;EAU7BC,YACUC,IADV,EAEUC,kBAFV,EAEgD;IADtC;IACA;IAVV,aAAQ,mIAAR;IACkC,kBAAa,MAAb;IAIlC,aAAQC,SAAR;IACQ,mBAA8B,EAA9B;IAWR,iBAAYN,eAAe,CAACO,OAA5B;EANI;;EAEJC,QAAQ;IACN,KAAKC,KAAL,GAAa,KAAKL,IAAL,CAAUM,kBAAV,CAA6BC,YAA7B,EAAb;IACA,KAAKC,WAAL,CAAiB,KAAKP,kBAAL,CAAwBQ,mBAAxB,EAAjB;EACD;;EAEDC,MAAM;IACJ,KAAKV,IAAL,CAAUU,MAAV;IACAC,QAAQ,CAACC,QAAT,CAAkBC,MAAlB;EACD;;EAEDC,cAAc,CAACC,IAAD,EAAa;IACzB,KAAKd,kBAAL,CAAwBO,WAAxB,CAAoCO,IAApC;IACA,KAAKP,WAAL,CAAiBO,IAAjB,EAFyB,CAGzB;EACD;;EAEDP,WAAW,CAACO,IAAD,EAAa;IACtB,KAAKC,KAAL,CAAWC,OAAX,CAAoBC,QAAD,IAA2B;MAC5C,IAAIA,QAAQ,CAACH,IAAT,KAAkBA,IAAtB,EAA4B;QAC1BG,QAAQ,CAACC,MAAT,GAAkB,IAAlB;QACA,KAAKD,QAAL,GAAgBA,QAAhB;MACD,CAHD,MAGO;QACLA,QAAQ,CAACC,MAAT,GAAkB,KAAlB;MACD;IACF,CAPD;EAQD;;EAEDC,WAAW;IACT,KAAKC,WAAL,CAAiBJ,OAAjB,CAA0BK,EAAD,IAAQA,EAAE,CAACD,WAAH,EAAjC;EACD;;AA5C4B;;;mBAAlBvB,oBAAkBD;AAAA;;;QAAlBC;EAAkByB;EAAAC;EAAAC;IAAA;;;;;;;;;;MCV/B5B;;;;;MAAeA;;;;;;ADgEf,MAAMK,SAAS,GAAG,CAChB;EACEa,IAAI,EAAE,IADR;EAEEW,IAAI,EAAE,SAFR;EAGEC,IAAI,EAAE;AAHR,CADgB,EAMhB;EACEZ,IAAI,EAAE,IADR;EAEEW,IAAI,EAAE,UAFR;EAGEC,IAAI,EAAE;AAHR,CANgB,EAWhB;EACEZ,IAAI,EAAE,IADR;EAEEW,IAAI,EAAE,SAFR;EAGEC,IAAI,EAAE;AAHR,CAXgB,EAgBhB;EACEZ,IAAI,EAAE,IADR;EAEEW,IAAI,EAAE,UAFR;EAGEC,IAAI,EAAE;AAHR,CAhBgB,EAqBhB;EACEZ,IAAI,EAAE,IADR;EAEEW,IAAI,EAAE,QAFR;EAGEC,IAAI,EAAE;AAHR,CArBgB,EA0BhB;EACEZ,IAAI,EAAE,IADR;EAEEW,IAAI,EAAE,QAFR;EAGEC,IAAI,EAAE;AAHR,CA1BgB,CAAlB","names":["GlobalConstants","i0","UserInnerComponent","constructor","auth","translationService","languages","imagurl","ngOnInit","user$","currentUserSubject","asObservable","setLanguage","getSelectedLanguage","logout","document","location","reload","selectLanguage","lang","langs","forEach","language","active","ngOnDestroy","unsubscribe","sb","selectors","hostVars","hostBindings","name","flag"],"sourceRoot":"","sources":["/Users/mac/Documents/2PAI_MIGRATION_PROJECT/ogrand_marche_admin/src/app/_metronic/partials/layout/extras/dropdown-inner/user-inner/user-inner.component.ts","/Users/mac/Documents/2PAI_MIGRATION_PROJECT/ogrand_marche_admin/src/app/_metronic/partials/layout/extras/dropdown-inner/user-inner/user-inner.component.html"],"sourcesContent":["import { Component, HostBinding, OnDestroy, OnInit } from '@angular/core';\nimport { Observable, Subscription } from 'rxjs';\nimport { TranslationService } from '../../../../../../modules/i18n';\nimport { AuthService, UserType } from '../../../../../../modules/auth';\nimport { GlobalConstants } from 'src/app/common/global-constants';\n\n@Component({\n  selector: 'app-user-inner',\n  templateUrl: './user-inner.component.html',\n})\nexport class UserInnerComponent implements OnInit, OnDestroy {\n  @HostBinding('class')\n  class = `menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-600 menu-state-bg menu-state-primary fw-bold py-4 fs-6 w-275px`;\n  @HostBinding('attr.data-kt-menu') dataKtMenu = 'true';\n\n  language: LanguageFlag;\n  user$: Observable<UserType>;\n  langs = languages;\n  private unsubscribe: Subscription[] = [];\n\n  constructor(\n    private auth: AuthService,\n    private translationService: TranslationService\n  ) {}\n\n  ngOnInit(): void {\n    this.user$ = this.auth.currentUserSubject.asObservable();\n    this.setLanguage(this.translationService.getSelectedLanguage());\n  }\n  profilurl = GlobalConstants.imagurl\n  logout() {\n    this.auth.logout();\n    document.location.reload();\n  }\n\n  selectLanguage(lang: string) {\n    this.translationService.setLanguage(lang);\n    this.setLanguage(lang);\n    // document.location.reload();\n  }\n\n  setLanguage(lang: string) {\n    this.langs.forEach((language: LanguageFlag) => {\n      if (language.lang === lang) {\n        language.active = true;\n        this.language = language;\n      } else {\n        language.active = false;\n      }\n    });\n  }\n\n  ngOnDestroy() {\n    this.unsubscribe.forEach((sb) => sb.unsubscribe());\n  }\n}\n\ninterface LanguageFlag {\n  lang: string;\n  name: string;\n  flag: string;\n  active?: boolean;\n}\n\nconst languages = [\n  {\n    lang: 'en',\n    name: 'English',\n    flag: './assets/media/flags/united-states.svg',\n  },\n  {\n    lang: 'zh',\n    name: 'Mandarin',\n    flag: './assets/media/flags/china.svg',\n  },\n  {\n    lang: 'es',\n    name: 'Spanish',\n    flag: './assets/media/flags/spain.svg',\n  },\n  {\n    lang: 'ja',\n    name: 'Japanese',\n    flag: './assets/media/flags/japan.svg',\n  },\n  {\n    lang: 'de',\n    name: 'German',\n    flag: './assets/media/flags/germany.svg',\n  },\n  {\n    lang: 'fr',\n    name: 'French',\n    flag: './assets/media/flags/france.svg',\n  },\n];\n","<ng-container *ngIf=\"user$ | async as _user\">\n  <div class=\"menu-item px-3\">\n    <div class=\"menu-content d-flex align-items-center px-3\">\n      <div class=\"symbol symbol-50px me-5\">\n        <img alt=\"Logo\" src=\"{{profilurl}}/{{_user.urlprofile}}\"  />\n      </div>\n\n      <div class=\"d-flex flex-column\">\n        <div class=\"fw-bolder d-flex align-items-center fs-5\">\n          {{ _user.name }} ({{ _user.role }})\n          <span *ngIf=\"_user.role ==='admin'\" class=\"badge badge-light-success fw-bolder fs-8 px-2 py-1 ms-2\"\n            >Admin</span>\n        </div>\n        <a class=\"fw-bold text-muted text-hover-primary fs-7 cursor-pointer\">\n          {{ _user.email }}\n        </a>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"separator my-2\"></div>\n\n\n  <div class=\"menu-item px-5\">\n    <a class=\"menu-link px-5 cursor-pointer\" routerLinkActive=\"active\"><span class=\"menu-title\">Mon Profil</span></a>\n  </div>\n  <div class=\"menu-item px-5\">\n    <a (click)=\"logout()\" class=\"menu-link px-5 cursor-pointer\"> Deconnexion </a>\n  </div>\n    <!--\n      routerLink=\"/apps/chat/profile\"\n    <div class=\"menu-item px-5\">\n    <a class=\"menu-link px-5 cursor-pointer\" placement=\"top-start\" ngbTooltip=\"Coming soon\">\n      <span class=\"menu-text\">My Projects</span>\n      <span class=\"menu-badge\">\n        <span class=\"badge badge-light-danger badge-circle fw-bolder fs-7\">3</span>\n      </span>\n    </a>\n  </div>\n    -->\n\n\n <!--\n  <div\n    class=\"menu-item px-5\"\n    data-kt-menu-trigger=\"hover\"\n    data-kt-menu-placement=\"left-start\"\n    data-kt-menu-flip=\"bottom\"\n  >\n    <a class=\"menu-link px-5 cursor-pointer\">\n      <span class=\"menu-title\">My Subscription</span>\n      <span class=\"menu-arrow\"></span>\n    </a>\n\n    <div class=\"menu-sub menu-sub-dropdown w-175px py-4\">\n      <div class=\"menu-item px-3\">\n        <a class=\"menu-link px-5 cursor-pointer\" placement=\"top-start\" ngbTooltip=\"Coming soon\">Referrals</a>\n      </div>\n\n      <div class=\"menu-item px-3\">\n        <a class=\"menu-link px-5 cursor-pointer\" placement=\"top-start\" ngbTooltip=\"Coming soon\">Billing</a>\n      </div>\n\n      <div class=\"menu-item px-3\">\n        <a class=\"menu-link px-5 cursor-pointer\" placement=\"top-start\" ngbTooltip=\"Coming soon\">Payments</a>\n      </div>\n\n      <div class=\"menu-item px-3\">\n        <a class=\"menu-link d-flex flex-stack px-5 cursor-pointer\" placement=\"top-start\" ngbTooltip=\"Coming soon\">\n          Statements\n          <i\n            class=\"fas fa-exclamation-circle ms-2 fs-7\"\n            data-bs-toggle=\"tooltip\"\n            title=\"View your statements\"\n          ></i>\n        </a>\n      </div>\n\n      <div class=\"separator my-2\"></div>\n\n      <div class=\"menu-item px-3\">\n        <div class=\"menu-content px-3\">\n          <label\n            class=\"form-check form-switch form-check-custom form-check-solid\"\n          >\n            <input\n              class=\"form-check-input w-30px h-20px\"\n              type=\"checkbox\"\n              value=\"1\"\n              defaultChecked=\"{true}\"\n              name=\"notifications\"\n            />\n            <span class=\"form-check-label text-muted fs-7\">Notifications</span>\n          </label>\n        </div>\n      </div>\n    </div>\n  </div>\n-->\n<!--\n\n\n\n  <div class=\"separator my-2\"></div>\n\n  <div\n    class=\"menu-item px-5\"\n    data-kt-menu-trigger=\"hover\"\n    data-kt-menu-placement=\"left-start\"\n    data-kt-menu-flip=\"bottom\"\n  >\n    <a class=\"menu-link px-5 cursor-pointer\">\n      <span class=\"menu-title position-relative\">\n        Language\n        <span\n          class=\"\n            fs-8\n            rounded\n            bg-light\n            px-3\n            py-2\n            position-absolute\n            translate-middle-y\n            top-50\n            end-0\n          \"\n        >\n          {{ language.name }}{{ \" \" }}\n          <img\n            class=\"w-15px h-15px rounded-1 ms-2\"\n            [src]=\"language.flag\"\n            alt=\"metronic\"\n          />\n        </span>\n      </span>\n    </a>\n\n    <div class=\"menu-sub menu-sub-dropdown w-175px py-4\">\n      <div\n        *ngFor=\"let l of langs\"\n        class=\"menu-item px-3 cursor-pointer\"\n        (click)=\"selectLanguage(l.lang)\"\n      >\n        <a\n          class=\"menu-link d-flex px-5\"\n          [ngClass]=\"l.lang === language.lang ? 'active' : ''\"\n        >\n          <span class=\"symbol symbol-20px me-4\">\n            <img class=\"rounded-1\" [src]=\"l.flag\" alt=\"metronic\" />\n          </span>\n          {{ l.name }}\n        </a>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"menu-item px-5 my-1\">\n    <a routerLink=\"/crafted/account/settings\" class=\"menu-link px-5\">\n      Account Settings\n    </a>\n  </div>\n  <div class=\"menu-item px-5\">\n    <a class=\"menu-link px-5 cursor-pointer\" placement=\"top-start\" ngbTooltip=\"Coming soon\">My Statements</a>\n  </div>\n-->\n</ng-container>\n"]},"metadata":{},"sourceType":"module"}