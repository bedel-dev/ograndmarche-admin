{"ast":null,"code":"import { getAttributeValueByBreakpoint, stringSnakeToCamel, getObjectPropertyValueByKey, EventHandlerUtil, throttle } from '../_utils/index';\nexport class SwapperStore {\n  static set(instanceId, drawerComponentObj) {\n    if (SwapperStore.has(instanceId)) {\n      return;\n    }\n\n    SwapperStore.store.set(instanceId, drawerComponentObj);\n  }\n\n  static get(instanceId) {\n    if (!SwapperStore.has(instanceId)) {\n      return;\n    }\n\n    return SwapperStore.store.get(instanceId);\n  }\n\n  static remove(instanceId) {\n    if (!SwapperStore.has(instanceId)) {\n      return;\n    }\n\n    SwapperStore.store.delete(instanceId);\n  }\n\n  static has(instanceId) {\n    return SwapperStore.store.has(instanceId);\n  }\n\n  static getAllInstances() {\n    return SwapperStore.store;\n  }\n\n}\nSwapperStore.store = new Map();\nconst defaultSwapperOptions = {\n  mode: 'append'\n};\nconst defaultSwapperQueires = {\n  componentName: 'swapper',\n  instanseQuery: '[data-kt-swapper=\"true\"]',\n  attrQuery: 'data-kt-swapper-'\n};\nlet SwapperComponent = /*#__PURE__*/(() => {\n  class SwapperComponent {\n    constructor(_element, _options, _queries) {\n      ///////////////////////\n      // ** Public API  ** //\n      ///////////////////////\n      this.update = () => {\n        var _a;\n\n        const parentSelector = (_a = this.getOption('parent')) === null || _a === void 0 ? void 0 : _a.toString();\n        const mode = this.getOption('mode');\n        const parentElement = parentSelector ? document.querySelector(parentSelector) : null;\n\n        if (parentElement && this.element.parentNode !== parentElement) {\n          if (mode === 'prepend') {\n            parentElement.prepend(this.element);\n          } else if (mode === 'append') {\n            parentElement.append(this.element);\n          }\n        }\n      }; // Event API\n\n\n      this.on = (name, handler) => {\n        return EventHandlerUtil.on(this.element, name, handler);\n      };\n\n      this.one = (name, handler) => {\n        return EventHandlerUtil.one(this.element, name, handler);\n      };\n\n      this.off = (name, handlerId) => {\n        return EventHandlerUtil.off(this.element, name, handlerId);\n      };\n\n      this.trigger = (name, event) => {\n        return EventHandlerUtil.trigger(this.element, name, event);\n      };\n\n      this.element = _element;\n      this.options = Object.assign(defaultSwapperOptions, _options);\n      this.queries = _queries; // Initial update\n\n      this.update();\n      SwapperStore.set(this.element.id, this);\n    }\n\n    getOption(name) {\n      const attr = this.element.getAttribute(`${this.queries.attrQuery}${name}`);\n\n      if (attr) {\n        let value = getAttributeValueByBreakpoint(attr);\n\n        if (attr != null && String(value) === 'true') {\n          return true;\n        } else if (value !== null && String(value) === 'false') {\n          return false;\n        }\n\n        return value;\n      } else {\n        const optionName = stringSnakeToCamel(name);\n        const option = getObjectPropertyValueByKey(this.options, optionName);\n\n        if (option) {\n          return getAttributeValueByBreakpoint(option);\n        } else {\n          return null;\n        }\n      }\n    }\n\n  }\n\n  // Static methods\n  SwapperComponent.getInstance = (el, componentName = defaultSwapperQueires.componentName) => {\n    const place = SwapperStore.get(el.id);\n\n    if (place) {\n      return place;\n    }\n\n    return null;\n  };\n\n  SwapperComponent.createInstances = (selector = defaultSwapperQueires.instanseQuery, options = defaultSwapperOptions, queries = defaultSwapperQueires) => {\n    const elements = document.body.querySelectorAll(selector);\n    elements.forEach(el => {\n      const item = el;\n      let place = SwapperComponent.getInstance(item);\n\n      if (!place) {\n        place = new SwapperComponent(item, options, queries);\n      }\n    });\n  };\n\n  SwapperComponent.createInsance = (selector = defaultSwapperQueires.instanseQuery, options = defaultSwapperOptions, queries = defaultSwapperQueires) => {\n    const element = document.body.querySelector(selector);\n\n    if (!element) {\n      return;\n    }\n\n    const item = element;\n    let place = SwapperComponent.getInstance(item);\n\n    if (!place) {\n      place = new SwapperComponent(item, options, queries);\n    }\n\n    return place;\n  };\n\n  SwapperComponent.bootstrap = (selector = defaultSwapperQueires.instanseQuery) => {\n    SwapperComponent.createInstances(selector);\n  };\n\n  SwapperComponent.reinitialization = (selector = defaultSwapperQueires.instanseQuery) => {\n    SwapperComponent.createInstances(selector);\n  }; // Window resize handler\n\n\n  return SwapperComponent;\n})();\nwindow.addEventListener('resize', function () {\n  let timer;\n  throttle(timer, () => {\n    // Locate and update Offcanvas instances on window resize\n    const elements = document.querySelectorAll(defaultSwapperQueires.instanseQuery);\n    elements.forEach(el => {\n      const place = SwapperComponent.getInstance(el);\n\n      if (place) {\n        place.update();\n      }\n    });\n  }, 200);\n});\nexport { SwapperComponent, defaultSwapperOptions, defaultSwapperQueires };","map":null,"metadata":{},"sourceType":"module"}