{"ast":null,"code":"import { GlobalConstants } from 'src/app/common/global-constants';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/services/users/user-service.service\";\nimport * as i3 from \"@angular/common/http\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"ng-inline-svg-2\";\nimport * as i6 from \"ngx-pagination\";\nimport * as i7 from \"../spinnerlaod/spinnerlaod.component\";\n\nfunction ListconseillerComponent_app_spinnerlaod_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-spinnerlaod\");\n  }\n}\n\nfunction ListconseillerComponent_div_2_tr_33_a_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 41);\n    i0.ɵɵtext(1, \" ajout vente \");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const user_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/apps/chat/add-vente/\", user_r3.contact, \"\");\n  }\n}\n\nfunction ListconseillerComponent_div_2_tr_33_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵelement(2, \"div\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\")(4, \"div\", 27)(5, \"div\", 28);\n    i0.ɵɵelement(6, \"img\", 29);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 30)(8, \"a\", 31);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"span\", 32);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(12, \"td\")(13, \"a\", 33);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"span\", 32);\n    i0.ɵɵtext(16, \" C\\u00F4te d'Ivoire \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"td\", 34)(18, \"div\", 35)(19, \"div\", 36)(20, \"a\", 37);\n    i0.ɵɵtext(21);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(22, \"td\", 34)(23, \"div\", 35)(24, \"div\", 36)(25, \"a\", 37);\n    i0.ɵɵtext(26);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(27, \"td\")(28, \"div\", 38);\n    i0.ɵɵtemplate(29, ListconseillerComponent_div_2_tr_33_a_29_Template, 2, 1, \"a\", 39);\n    i0.ɵɵelementStart(30, \"a\", 40);\n    i0.ɵɵlistener(\"click\", function ListconseillerComponent_div_2_tr_33_Template_a_click_30_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const user_r3 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r7.deleteUSer(user_r3.id));\n    });\n    i0.ɵɵelement(31, \"span\", 14);\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const user_r3 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(6);\n    i0.ɵɵpropertyInterpolate2(\"src\", \"\", ctx_r2.profilurl, \"/\", user_r3.urlprofile, \"\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵpropertyInterpolate(\"alt\", user_r3.urlprofile);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/apps/chat/update-user/\", user_r3.id, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", user_r3.name, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", user_r3.role, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/apps/chat/update-user/\", user_r3.id, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", user_r3.contact, \" \");\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(user_r3.locality);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(user_r3.created_at);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", user_r3.role !== \"Transporteur\" && user_r3.role !== \"gpublic\" && user_r3.role !== \"Livreur\" && user_r3.role !== \"conseiller\" && user_r3.role !== \"Delegue\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"inlineSVG\", \"./assets/media/icons/duotune/general/gen027.svg\");\n  }\n}\n\nconst _c0 = function (a1, a2) {\n  return {\n    itemsPerPage: 6,\n    currentPage: a1,\n    totalItems: a2\n  };\n};\n\nfunction ListconseillerComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"div\", 4)(2, \"h3\", 5)(3, \"span\", 6);\n    i0.ɵɵtext(4, \"Conseiller \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"span\", 7);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 8)(8, \"div\", 9);\n    i0.ɵɵelement(9, \"span\", 10);\n    i0.ɵɵelementStart(10, \"input\", 11);\n    i0.ɵɵlistener(\"input\", function ListconseillerComponent_div_2_Template_input_input_10_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.onSearchChange($event));\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(11, \"div\", 12)(12, \"a\", 13);\n    i0.ɵɵelement(13, \"span\", 14);\n    i0.ɵɵtext(14, \" Nouveau conseiller \");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(15, \"div\", 15)(16, \"div\", 16)(17, \"table\", 17)(18, \"thead\")(19, \"tr\", 18)(20, \"th\", 19);\n    i0.ɵɵelement(21, \"div\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"th\", 21);\n    i0.ɵɵtext(23, \"Nom & prenom\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"th\", 22);\n    i0.ɵɵtext(25, \"Contact\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"th\", 23);\n    i0.ɵɵtext(27, \"Localit\\u00E9\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"th\", 23);\n    i0.ɵɵtext(29, \"Date creation\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"th\", 24);\n    i0.ɵɵtext(31, \"Actions\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(32, \"tbody\");\n    i0.ɵɵtemplate(33, ListconseillerComponent_div_2_tr_33_Template, 32, 12, \"tr\", 25);\n    i0.ɵɵpipe(34, \"paginate\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(35, \"div\")(36, \"pagination-controls\", 26);\n    i0.ɵɵlistener(\"pageChange\", function ListconseillerComponent_div_2_Template_pagination_controls_pageChange_36_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.onTableDataChange($event));\n    });\n    i0.ɵɵelementEnd()()()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.UserTotals, \" Conseiller(s)\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"inlineSVG\", \"./assets/media/icons/duotune/general/gen021.svg\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"inlineSVG\", \"./assets/media/icons/duotune/arrows/arr075.svg\");\n    i0.ɵɵadvance(20);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(34, 4, ctx_r1.Users, i0.ɵɵpureFunction2(7, _c0, ctx_r1.page, ctx_r1.count)));\n  }\n}\n\nexport let ListconseillerComponent = /*#__PURE__*/(() => {\n  class ListconseillerComponent {\n    constructor(route, router, userService, changeDetector, http) {\n      this.route = route;\n      this.router = router;\n      this.userService = userService;\n      this.changeDetector = changeDetector;\n      this.http = http;\n      this.spinner = true;\n      this.Users = [];\n      this.Commandes = [];\n      this.profilurl = GlobalConstants.imagurl;\n      this.initiateUser = [];\n      this.page = 1;\n      this.count = 0;\n      this.tableSize = 10;\n      this.tableSizes = [5, 10, 15, 20];\n    }\n\n    ngOnInit() {\n      this.getAllU();\n    }\n\n    getAllU() {\n      var u = [];\n      this.userService.GetAlluser().subscribe(res => {\n        for (const item of res.data) {\n          // console.log(this.profilurl+\"/\"+item.urlprofile)\n          this.initiateUser.push(item); //  this.http.get(this.profilurl+\"/\"+item.urlprofile).pipe(()=>{})\n\n          var tmptime = item.created_at.split('T');\n          item.created_at = tmptime[0];\n\n          if (item.role == \"conseiller\") {\n            if (item.engin == \"moto\") {\n              item.role = \"Livreur\";\n            }\n\n            if (item.engin == \"camion\") {\n              item.role = \"Transporteur\";\n            }\n\n            this.Users.push(item);\n          } //\n\n\n          this.changeDetector.detectChanges();\n        }\n\n        this.Users.reverse();\n        this.changeDetector.detectChanges();\n      }, error => {}, () => {\n        this.UserTotals = this.Users.length;\n        this.spinner = false;\n        this.changeDetector.detectChanges(); //   u.reverse()\n        //   for(const item of u){\n        //     this.Users.push(item)\n        //  }\n      });\n    }\n\n    deleteUSer(userID) {\n      this.spinner = true;\n      this.Users = [];\n      this.changeDetector.detectChanges();\n      console.log(userID);\n      this.userService.DeleteUser(userID).subscribe(res => {\n        console.log(res);\n        this.getAllU();\n        this.changeDetector.detectChanges();\n      }, error => {}, () => {\n        this.spinner = false;\n      });\n    } // onSearchChange(searchValue: any): void {\n    //   // console.log(searchValue.target.value);\n    //   this.Users = []\n    //   this.changeDetector.detectChanges();\n    //   console.log(this.Users)\n    //     this.initiateUser.forEach((user:any)=>{\n    //       var tmptime = user.created_at.split('T')\n    //       user.created_at = tmptime[0]\n    //       var newnam = user.name.toString().toLowerCase()\n    //       if(newnam.includes(searchValue.target.value.toString().toLowerCase()) ){\n    //         this.Users.push(user)\n    //         this.changeDetector.detectChanges();\n    //       }else{\n    //       }\n    //     })\n    //     this.Users.reverse();\n    //     this.UserTotals = this.Users.length\n    //     this.changeDetector.detectChanges();\n    // }\n\n\n    onSearchChange(searchValue) {\n      var u = [];\n      this.Users = [];\n      this.changeDetector.detectChanges();\n\n      for (const item of this.initiateUser) {\n        var tmptime = item.created_at.split('T');\n        item.created_at = tmptime[0];\n\n        if (searchValue.target.value.toString().toLowerCase() == \"all\") {\n          if (item.role == \"conseiller\" || item.role == \"fournisseur\" || item.role == \"Producteur\" || item.role == \"Transporteur\" || item.role == \"Livreur\" || item.role == \"Intrant\" || item.role == \"gpublic\" || item.role == \"Delegue\") {\n            this.Users.push(item);\n            this.changeDetector.detectChanges();\n          }\n        } else if (item.name.toString().toLowerCase().includes(searchValue.target.value.toString().toLowerCase()) || item.role.toString().toLowerCase().includes(searchValue.target.value.toString().toLowerCase())) {\n          if (item.role == \"conseiller\" || item.role == \"fournisseur\" || item.role == \"Producteur\" || item.role == \"Transporteur\" || item.role == \"Livreur\" || item.role == \"Intrant\" || item.role == \"gpublic\" || item.role == \"Delegue\") {\n            this.Users.push(item);\n            this.changeDetector.detectChanges();\n          }\n        } else {//  this.Users.push(item)\n          // this.Users = this.InitialeVar\n          //this.GetAllUser()\n        }\n      }\n\n      this.Users.reverse();\n      this.UserTotals = this.Users.length;\n      this.changeDetector.detectChanges();\n    }\n\n    onTableDataChange(event) {\n      this.page = event; //  this.GetCommande()\n    }\n\n    onTableSizeChange(event) {\n      this.tableSize = event.target.value;\n      this.page = 1;\n      this.getAllU();\n    }\n\n  }\n\n  ListconseillerComponent.ɵfac = function ListconseillerComponent_Factory(t) {\n    return new (t || ListconseillerComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.UserServiceService), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i3.HttpClient));\n  };\n\n  ListconseillerComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ListconseillerComponent,\n    selectors: [[\"app-listconseiller\"]],\n    decls: 3,\n    vars: 2,\n    consts: [[1, \"col-xl-12\", 2, \"padding\", \"10px 24px\"], [4, \"ngIf\"], [\"class\", \"card card-xxl-stretch mb-5 mb-xl-8\", 4, \"ngIf\"], [1, \"card\", \"card-xxl-stretch\", \"mb-5\", \"mb-xl-8\"], [1, \"card-header\", \"border-0\", \"pt-5\", 2, \"padding\", \"0 1.1rem!important\"], [1, \"card-title\", \"align-items-start\", \"flex-column\"], [1, \"card-label\", \"fw-bolder\", \"fs-3\", \"mb-1\"], [1, \"text-muted\", \"mt-1\", \"fw-bold\", \"fs-7\"], [1, \"d-flex\", \"my-2\"], [1, \"d-flex\", \"align-items-center\", \"position-relative\", \"me-4\"], [1, \"svg-icon\", \"svg-icon-3\", \"position-absolute\", \"ms-3\", 3, \"inlineSVG\"], [\"type\", \"text\", \"id\", \"kt_filter_search\", \"placeholder\", \"Entrer un nom\", \"name\", \"search\", \"ng-model\", \"search\", 1, \"form-control\", \"form-control-white\", \"form-control-sm\", \"ps-9\", 2, \"width\", \"500px !important\", 3, \"input\"], [\"data-bs-toggle\", \"tooltip\", \"data-bs-placement\", \"top\", \"data-bs-trigger\", \"hover\", \"title\", \"Clicker pour ajouter un conseiller\", 1, \"card-toolbar\"], [\"routerLink\", \"/apps/chat/add-conseiller\", 1, \"btn\", \"btn-sm\", \"btn-light-primary\"], [1, \"svg-icon\", \"svg-icon-3\", 3, \"inlineSVG\"], [1, \"card-body\", \"py-3\"], [1, \"table-responsive\"], [1, \"table\", \"table-row-dashed\", \"table-row-gray-300\", \"align-middle\", \"gs-0\", \"gy-4\"], [1, \"fw-bolder\", \"text-muted\"], [1, \"w-25px\"], [1, \"form-check\", \"form-check-sm\", \"form-check-custom\", \"form-check-solid\"], [1, \"min-w-150px\"], [1, \"min-w-140px\"], [1, \"min-w-120px\"], [1, \"min-w-100px\", \"text-end\"], [4, \"ngFor\", \"ngForOf\"], [\"previousLabel\", \"Prev\", \"nextLabel\", \"Next\", 3, \"pageChange\"], [1, \"d-flex\", \"align-items-center\"], [1, \"symbol\", \"symbol-45px\", \"me-5\"], [3, \"src\", \"alt\"], [1, \"d-flex\", \"justify-content-start\", \"flex-column\"], [1, \"text-dark\", \"fw-bolder\", \"text-hover-primary\", \"fs-6\", 3, \"routerLink\"], [1, \"text-muted\", \"fw-bold\", \"text-muted\", \"d-block\", \"fs-7\"], [1, \"text-dark\", \"fw-bolder\", \"text-hover-primary\", \"d-block\", \"fs-6\", 3, \"routerLink\"], [1, \"text-end\"], [1, \"d-flex\", \"flex-column\", \"w-100\", \"me-2\"], [1, \"d-flex\", \"flex-stack\", \"mb-2\"], [1, \"text-dark\", \"fw-bolder\", \"text-hover-primary\", \"fs-6\"], [1, \"d-flex\", \"justify-content-end\", \"flex-shrink-0\"], [\"style\", \"width: calc(1.5em + 4.1rem + 2px) !important;color: var(--kt-text-muted);  background-color: var(--kt-light) !important;\", \"class\", \"\\n                      btn btn-icon btn-bg-light btn-active-color-primary btn-sm\\n                      me-1\\n                    \", 3, \"routerLink\", 4, \"ngIf\"], [1, \"btn\", \"btn-icon\", \"btn-bg-light\", \"btn-active-color-primary\", \"btn-sm\", 3, \"click\"], [1, \"btn\", \"btn-icon\", \"btn-bg-light\", \"btn-active-color-primary\", \"btn-sm\", \"me-1\", 2, \"width\", \"calc(1.5em + 4.1rem + 2px) !important\", \"color\", \"var(--kt-text-muted)\", \"background-color\", \"var(--kt-light) !important\", 3, \"routerLink\"]],\n    template: function ListconseillerComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtemplate(1, ListconseillerComponent_app_spinnerlaod_1_Template, 1, 0, \"app-spinnerlaod\", 1);\n        i0.ɵɵtemplate(2, ListconseillerComponent_div_2_Template, 37, 10, \"div\", 2);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.spinner);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.spinner);\n      }\n    },\n    dependencies: [i4.NgForOf, i4.NgIf, i1.RouterLinkWithHref, i5.InlineSVGDirective, i6.PaginationControlsComponent, i7.SpinnerlaodComponent, i6.PaginatePipe]\n  });\n  return ListconseillerComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}