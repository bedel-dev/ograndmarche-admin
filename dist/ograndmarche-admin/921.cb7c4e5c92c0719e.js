"use strict";(self.webpackChunkOrganista=self.webpackChunkOrganista||[]).push([[921],{4921:(M,p,d)=>{d.r(p),d.d(p,{DashboardModule:()=>L});var a=d(9808),v=d(1083);function g(r,i,s,t,n,c,h){try{var o=r[c](h),l=o.value}catch(u){return void s(u)}o.done?i(l):Promise.resolve(l).then(t,n)}var e=d(5e3),C=d(7824);const w=function(r,i){return{"background-color":r,"background-image":i}},T=function(r){return{"width.px":r}};let A=(()=>{class r{constructor(s,t,n){this.datePipe=s,this.userService=t,this.changeDetector=n,this.cssClass="",this.description="",this.color="",this.img="",this.width="",this.percent="",this.nbrElement="",this.nbr_commande="Nombres de commande"}ngOnInit(){}}return r.\u0275fac=function(s){return new(s||r)(e.Y36(a.uU),e.Y36(C.R),e.Y36(e.sBO))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-cards-widget20"]],inputs:{cssClass:"cssClass",description:"description",color:"color",img:"img",width:"width",percent:"percent",nbrElement:"nbrElement"},features:[e._Bn([a.uU])],decls:16,vars:11,consts:[[1,"card","card-flush","bgi-no-repeat","bgi-size-contain","bgi-position-x-end",2,"height","100% !important",3,"ngClass","ngStyle"],[1,"card-header","pt-5"],[1,"card-title","d-flex","flex-column"],[1,"fs-2hx","fw-bold","text-white","me-2","lh-1","ls-n2"],[1,"text-white","opacity-75","pt-1","fw-semibold","fs-6"],[1,"card-body","d-flex","align-items-end","pt-0"],[1,"d-flex","align-items-center","flex-column","mt-3","w-100"],[1,"d-flex","justify-content-between","fw-bold","fs-6","text-white","opacity-75","w-100","mt-auto","mb-2"],[1,"h-8px","mx-3","w-100","bg-white","bg-opacity-50","rounded"],["role","progressbar","aria-valuenow","50","aria-valuemin","0","aria-valuemax","100",1,"bg-white","rounded","h-8px",3,"ngStyle"]],template:function(s,t){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),e._uU(4),e.qZA(),e.TgZ(5,"span",4),e._uU(6),e.qZA()()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"span"),e._uU(11,"Pourcentage"),e.qZA(),e.TgZ(12,"span"),e._uU(13),e.qZA()(),e.TgZ(14,"div",8),e._UZ(15,"div",9),e.qZA()()()()),2&s&&(e.Q6J("ngClass",t.cssClass)("ngStyle",e.WLB(6,w,t.color,"url("+t.img+")")),e.xp6(4),e.Oqu(t.nbrElement),e.xp6(2),e.hij(" ",t.description," "),e.xp6(7),e.hij("",t.percent,"%"),e.xp6(2),e.Q6J("ngStyle",e.VKq(9,T,t.width)))},dependencies:[a.mk,a.PC],styles:["[_nghost-%COMP%]{height:50%!important}"]}),r})();var b=d(3039);const Z=function(r,i){return{"min-width":r,"min-height":i}};let E=(()=>{class r{constructor(){this.chartOptions={},this.cssClass="",this.chartSize=70,this.chartLine=11,this.chartRotate=145,this.AmoutGlobalTransaction=0,this.rembourser=0,this.NoNrembourser=0}ngOnInit(){setTimeout(()=>{y(this.chartSize,this.chartLine,this.chartRotate)},10)}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-cards-widget17"]],inputs:{cssClass:"cssClass",chartSize:"chartSize",chartLine:"chartLine",chartRotate:"chartRotate",AmoutGlobalTransaction:"AmoutGlobalTransaction",rembourser:"rembourser",NoNrembourser:"NoNrembourser"},decls:28,vars:19,consts:[["img","./assets/media/patterns/vector-2.png",1,"card","card-flush",2,"background-color","#E4E6EF","height","100% !important",3,"ngClass"],[1,"card-header","pt-5"],[1,"card-title","d-flex","flex-column"],[1,"d-flex","align-items-center"],[1,"fs-4","fw-semibold","text-gray-400","me-1","align-self-start"],[1,"fs-2hx","fw-bold","text-dark","me-2","lh-1","ls-n2"],[1,"text-gray-400","pt-1","fw-semibold","fs-6"],[1,"card-body","pt-2","pb-4","d-flex","flex-wrap","align-items-center"],[1,"d-flex","flex-center","me-5","pt-2"],["id","kt_card_widget_17_chart",3,"ngStyle"],[1,"d-flex","flex-column","content-justify-center","flex-row-fluid"],[1,"d-flex","fw-semibold","align-items-center"],[1,"bullet","w-8px","h-3px","rounded-2","bg-success","me-3"],[1,"text-gray-500","flex-grow-1","me-4"],[1,"fw-bolder","text-gray-700","text-xxl-end"],[1,"d-flex","fw-semibold","align-items-center","my-3"],[1,"bullet","w-8px","h-3px","rounded-2","bg-primary","me-3"]],template:function(s,t){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._UZ(4,"span",4),e.TgZ(5,"span",5),e._uU(6),e.ALo(7,"number"),e.qZA()(),e.TgZ(8,"span",6),e._uU(9,"Montant Totals des commandes "),e.qZA()()(),e.TgZ(10,"div",7)(11,"div",8),e._UZ(12,"div",9),e.qZA(),e.TgZ(13,"div",10)(14,"div",11),e._UZ(15,"div",12),e.TgZ(16,"div",13),e._uU(17,"Termin\xe9"),e.qZA(),e.TgZ(18,"div",14),e._uU(19),e.ALo(20,"number"),e.qZA()(),e.TgZ(21,"div",15),e._UZ(22,"div",16),e.TgZ(23,"div",13),e._uU(24,"En cours"),e.qZA(),e.TgZ(25,"div",14),e._uU(26),e.ALo(27,"number"),e.qZA()()()()()),2&s&&(e.Q6J("ngClass",t.cssClass),e.xp6(6),e.hij("",e.xi3(7,7,t.AmoutGlobalTransaction,"1.0-0")," FCFA"),e.xp6(6),e.Q6J("ngStyle",e.WLB(16,Z,t.chartSize+"px",t.chartSize+"px")),e.uIk("data-kt-size",t.chartSize)("data-kt-line",t.chartLine),e.xp6(7),e.hij("",e.xi3(20,10,t.rembourser,"1.0-0")," FCFA"),e.xp6(7),e.hij("",e.xi3(27,13,t.NoNrembourser,"1.0-0")," FCFA"))},dependencies:[a.mk,a.PC,a.JJ]}),r})();const y=function(r=70,i=11,s=145){const t=document.getElementById("kt_card_widget_17_chart");if(!t)return;var n={size:r,lineWidth:i,rotate:s};const c=document.createElement("canvas"),h=document.createElement("span");"undefined"!=typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(c);const o=c.getContext("2d");c.width=c.height=n.size,t.appendChild(h),t.appendChild(c),o.translate(n.size/2,n.size/2),o.rotate((n.rotate/180-.5)*Math.PI);const l=(n.size-n.lineWidth)/2,u=function(N,D,m){m=Math.min(Math.max(0,m||1),1),o&&(o.beginPath(),o.arc(0,0,l,0,2*Math.PI*m,!1),o.strokeStyle=N,o.lineCap="round",o.lineWidth=D,o.stroke())};u("#E4E6EF",n.lineWidth,1),u((0,b.mK)("--kt-primary"),n.lineWidth,100/150),u((0,b.mK)("--kt-success"),n.lineWidth,.4)},U=["modal"];function _(r,i){if(1&r&&(e.TgZ(0,"div",1)(1,"div",2),e._UZ(2,"app-cards-widget17",3),e.qZA(),e.TgZ(3,"div",2),e._UZ(4,"app-cards-widget20",4),e.qZA(),e.TgZ(5,"div",2),e._UZ(6,"app-cards-widget20",5),e.qZA(),e.TgZ(7,"div",2),e._UZ(8,"app-cards-widget20",6),e.qZA()()),2&r){const s=e.oxw();e.xp6(2),e.Q6J("AmoutGlobalTransaction",s.AmoutGlobal)("rembourser",s.ttrembourser)("NoNrembourser",s.ttNonrembourser),e.xp6(2),e.s9C("width",s.pourcentRechargements),e.s9C("percent",s.pourcentRechargements),e.s9C("nbrElement",s.TotalRechargements),e.xp6(2),e.s9C("width",s.pourcentAchatcarte),e.s9C("percent",s.pourcentAchatcarte),e.s9C("nbrElement",s.TotalAchatcarte),e.xp6(2),e.s9C("width",s.pourcenttransaction),e.s9C("percent",s.pourcenttransaction),e.s9C("nbrElement",s.Totaltransaction)}}function S(r,i){if(1&r&&(e.TgZ(0,"div",1)(1,"div",2),e._UZ(2,"app-cards-widget20",7),e.qZA(),e.TgZ(3,"div",2),e._UZ(4,"app-cards-widget20",8),e.qZA(),e.TgZ(5,"div",2),e._UZ(6,"app-cards-widget20",9),e.qZA()()),2&r){const s=e.oxw();e.xp6(2),e.s9C("width",s.pourcentCourse),e.s9C("percent",s.pourcentCourse),e.s9C("nbrElement",s.TotalCourse),e.xp6(2),e.s9C("width",s.pourcentCourseTerminer),e.s9C("percent",s.pourcentCourseTerminer),e.s9C("nbrElement",s.TotalCousreterminer),e.xp6(2),e.s9C("width",s.pourcenCourseEncours),e.s9C("percent",s.pourcenCourseEncours),e.s9C("nbrElement",s.TotalCourseEcours)}}let G=(()=>{class r{constructor(s,t,n){this.datePipe=s,this.userService=t,this.changeDetector=n,this.modalConfig={modalTitle:"Modal title",dismissButtonLabel:"Submit",closeButtonLabel:"Cancel"},this.Distributeur=[],this.Rechargement=[],this.Course=[],this.Achatcarte=[],this.CourseTerminer=[],this.AmoutGlobal=0,this.AmoutGlobalCourse=0,this.ttrembourser=0,this.ttterminer=0,this.ttNonrembourser=0,this.transactionList=[],this.CousreEncourList=[],this.UserList=[]}openModal(){var s=this;return function x(r){return function(){var i=this,s=arguments;return new Promise(function(t,n){var c=r.apply(i,s);function h(l){g(c,t,n,h,o,"next",l)}function o(l){g(c,t,n,h,o,"throw",l)}h(void 0)})}}(function*(){return yield s.modalComponent.open()})()}ngOnInit(){this.UserConnected=this.userService.GetUserData(),this.UserConnected=JSON.parse(this.UserConnected),this.GetAllCommand(),this.GetAllCourse()}GetAllCommand(){this.userService.getAllCommandeProduit().subscribe(s=>{for(var t of s.data){var n=parseInt(t.prixunitaire)*parseInt(t.quantite);(t.Idvendeur==this.UserConnected.data.id.toString()||"admin"==this.UserConnected.data.role)&&(this.Rechargement.push(t),this.AmoutGlobal+=n,"Livr\xe9"==t.state?(this.ttrembourser+=n,this.Achatcarte.push(t)):(this.ttNonrembourser+=n,this.transactionList.push(t)))}this.TotalAchatcarte=this.Achatcarte.length,this.pourcentAchatcarte=100*this.TotalAchatcarte/1e4,this.Totaltransaction=this.transactionList.length,this.pourcenttransaction=100*this.Totaltransaction/1e4,this.TotalRechargements=this.Rechargement.length,this.pourcentRechargements=100*this.TotalRechargements/1e4,this.changeDetector.detectChanges()})}GetAllCourse(){this.userService.GetAllCourse().subscribe(s=>{for(var t of(console.log("ddddd",s.data),s.data))(t.transporteuridentifiant==this.UserConnected.data.id.toString()||"admin"==this.UserConnected.data.role)&&(this.Course.push(t),"terminer"==t.statut||"arriver"==t.statut?this.CourseTerminer.push(t):this.CousreEncourList.push(t));this.TotalCousreterminer=this.CourseTerminer.length,console.log(this.TotalCousreterminer),this.pourcentCourseTerminer=100*this.TotalCousreterminer/1e4,this.TotalCourseEcours=this.CousreEncourList.length,this.pourcenCourseEncours=100*this.TotalCourseEcours/1e4,this.TotalCourse=this.Course.length,this.pourcentCourse=100*this.TotalCourse/1e4,this.changeDetector.detectChanges()})}}return r.\u0275fac=function(s){return new(s||r)(e.Y36(a.uU),e.Y36(C.R),e.Y36(e.sBO))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-dashboard"]],viewQuery:function(s,t){if(1&s&&e.Gf(U,5),2&s){let n;e.iGM(n=e.CRH())&&(t.modalComponent=n.first)}},features:[e._Bn([a.uU])],decls:2,vars:2,consts:[["class","row g-5 g-xl-10 mb-15s mb-xl-2",4,"ngIf"],[1,"row","g-5","g-xl-10","mb-15s","mb-xl-2"],[1,"col-md-6","col-lg-6","col-xl-6","col-xxl-3","mb-md-5","mb-xl-10"],["cssClass","h-md-50 mb-5 mb-xl-10",3,"AmoutGlobalTransaction","rembourser","NoNrembourser"],["cssClass","h-md-50 mb-5 mb-xl-10w","description","Commandes totales","color","#F1416C","img","./assets/media/patterns/vector-1.png",3,"width","percent","nbrElement"],["cssClass","h-md-50 mb-5 mb-xl-10","description","Commandes termin\xe9es","color","#5e6278","img","./assets/media/patterns/vector-2.png",3,"width","percent","nbrElement"],["cssClass","h-md-50 mb-5 mb-xl-10","description","Commande en cours","color","#1E2B77","img","./assets/media/patterns/vector-2.png",3,"width","percent","nbrElement"],["cssClass","h-md-50 mb-5 mb-xl-10w","description","Courses totales","color","#F1416C","img","./assets/media/patterns/vector-1.png",3,"width","percent","nbrElement"],["cssClass","h-md-50 mb-5 mb-xl-10","description","Courses termin\xe9es","color","#5e6278","img","./assets/media/patterns/vector-2.png",3,"width","percent","nbrElement"],["cssClass","h-md-50 mb-5 mb-xl-10","description","Courses en cours","color","#1E2B77","img","./assets/media/patterns/vector-2.png",3,"width","percent","nbrElement"]],template:function(s,t){1&s&&(e.YNc(0,_,9,12,"div",0),e.YNc(1,S,7,9,"div",0)),2&s&&(e.Q6J("ngIf","admin"==t.UserConnected.data.role||"Producteur"==t.UserConnected.data.role||"fournisseur"==t.UserConnected.data.role),e.xp6(1),e.Q6J("ngIf","admin"==t.UserConnected.data.role||"Transporteur"==t.UserConnected.data.role))},dependencies:[a.O5,A,E],styles:["[_nghost-%COMP%]{width:100%}.h-100[_ngcontent-%COMP%]{height:100%}"]}),r})();var f=d(3518);let L=(()=>{class r{}return r.\u0275fac=function(s){return new(s||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[a.ez,v.Bz.forChild([{path:"",component:G}]),f.HB,f._9]}),r})()}}]);